alerts:
- rule: DEPLOYMENT_FAILED
- rule: DOMAIN_FAILED
- rule: DEPLOYMENT_LIVE
envs:
- key: TELEGRAM_CHAT_ID
  scope: RUN_AND_BUILD_TIME
  type: SECRET
  value: EV[1:thIAkqN3B8ND7JP04KbuKrOtjXxKvOCU:4y7gB455TbmzkWNfw286cH758A/cXwoSVBo=]
- key: TELEGRAM_BOT_TOKEN
  scope: RUN_AND_BUILD_TIME
  type: SECRET
  value: EV[1:gXEzY7PP/PccyeAif5q+Ynb866ZRuTqb:zPgaKA4q5WY78rp+SPFymE8ryTRW/Btwhwnul4NvJ/z6CLqTVGdeIya7+3JVjn939MKy5tAkiP8dnVC78aI=]
name: algorate
region: fra
services:
- dockerfile_path: trader-app/Dockerfile
  envs:
  - key: TINKOFF_ACCESS_TOKEN
    scope: RUN_AND_BUILD_TIME
    type: SECRET
    value: EV[1:bsWtRsQZZkz9jqqE7HeQsfSPENQF64Y/:Ids/AammQ58b4utC84AnbWGxihHB/RW0xG0R1o7eKRk9DwcKcZI0kJmRHBqj+se140x1g/peiIdCLbXWeWLDriWi8NhPLiJWWfjZfWe1Cxhbn92ia63lIekumYJMifG/qVQLsDtJArY=]
  - key: JAVA_OPTS
    scope: RUN_AND_BUILD_TIME
    value: -Xms800m -Xmx800m
  - key: TELEGRAM_WEBHOOK_SECRET
    scope: RUN_AND_BUILD_TIME
    type: SECRET
    value: EV[1:1BgjnrVnD61XTMDlo6D5neOtfwFq5c77:yuaUu94gWlS2KWC7sYdzToZ3RH/k54ZNPYAwln6zFrfmLolO1uG49Vb5ZnAYLqqV]
  - key: ACCOUNT_ID
    scope: RUN_AND_BUILD_TIME
    value: f6377137-36a9-4262-a2a4-fb8f36ed18fe
  github:
    branch: master
    repo: ppotseluev/algorate
  health_check:
    failure_threshold: 3
    http_path: /healthcheck
    period_seconds: 5
    port: 54611
  http_port: 8080
  instance_count: 1
  instance_size_slug: basic-xs
  internal_ports:
  - 54611
  log_destinations:
  - logtail:
      token: sZsrUtAscxJsfk55NQ2LpTMs
    name: Logtail
  name: algorate-trader-app
  routes:
  - path: /algorate
  source_dir: /
